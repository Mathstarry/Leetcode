# 位运算技巧

## 左移运算 `<<`
`k << i` 表示把数字 `k` 在二进制上往左位移 `i` 位，右边补 0。比如 3 的二进制为 (0011)<sub>2</sub>，`3 << 2` 可以得到 (1100)<sub>2</sub>，其十进制值为 12。

1. `k << 1` 相当于把数字 `k` 乘以 2，`k << i` 相当于把数字 `k` 乘以 2<sup>*i*</sup>。

## 右移运算 `>>`
`k >> i` 表示把数字 `k` 在二进制上往右位移 `i` 位，左边补 0，右边的直接去掉。比如 7 的二进制为 (0111)<sub>2</sub>，`7 >> 2` 可以得到 (0001)<sub>2</sub>，其十进制值为 1。

1. `k >> 1` 相当于把数字 `k` 除以 2 并向下取整，`k >> i` 相当于把数字 `k` 除以 2<sup>*i*</sup> 并向下取整。



## 异或运算 `^`
`a ^ b` 表示当 `a` 与 `b` 的二进制相同位上同为 `1` 或 `0` 时，结果的这一位为 `0`，否则为 `1`。

1. 当 `x` 为奇数时， `x` 的二进制表示的末位为 `1`，所以我们有 `x ^ 1 = x - 1`；  
   当 `x` 为偶数时， `x` 的二进制表示的末位为 `0`，所以我们有 `x ^ 1 = x + 1`。
   
   应用见 [765. 情侣牵手 方法一](https://github.com/Mathstarry/Leetcode/blob/master/problems/0765_minSwapsCouples/ideas.md)
   
2. 结合左移 `<<` 操作。`x ^ 1` 可以改变 `x` 最后一位的奇偶性，那么 `x ^ (1 << i)` 就可以改变 `x` 从右至左第 `i` 位的奇偶性。  
   这个性质可以应用于状态压缩的题目，用于改变第 `i` 位的状态为 `0` 或 `1`。
